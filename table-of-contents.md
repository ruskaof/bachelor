# Содержание ВКР

1. Введение - описание, что такое распределенные системы и протоколы консенсуса, постановка задачи алгоритма
2. Актуальность
3. Существующие протоколы распределенного консенсуса - понадобится объяснить, почему далее в работе изучаются именно Paxos и Raft. Скорее всего стоит также изучить ZAB.
4. Библиотеки и программы, реализующие протоколы консенсуса - у Raft есть Apache Ratis, но у Paxos почти нет популярных и доступных библиотек (есть только решение на C++, остальное не prod-ready). Обоснование разработки своей имплементации Paxos.
5. Реализация своего Paxos на основе статьи "Paxos Made Moderately Complex" на Java.
    1. Анализ варианта Paxos из статьи (отличия от других возможных реализаций, возможные плюсы и минусы, а также доработки, проведенные для повышения производительности).
    2. Листинг кода.
    3. Листинг тестов.
6. Реализация Key-Value Store на основе Apache Ratis для Raft и своей реализации Paxos для Paxos.
    1. Перечень используемых зависимостей (для непосредственного хранения данных будет использована отдельная библиотека. Сейчас это MapDB, которая позволяет конвертировать `Map` из Java в битовый файл.)
    2. Листинг кода
    3. Листинг тестов.
7. Реализация скриптов нагрузочного тестирования. (Сейчас планирую использовать k6, для этого в предыдущем пункте сделаю HTTP API).
    1. Листинг кода теста максимальной пропускной способности. (RPS увеличивается плавно до отказа в обслуживании)
    2. Листинг кода теста средней задержки ответа. (Константный RPS в течение продолжительного времени)
    3. Оба сценария настраиваем на два вида: преимущественно чтения и преимущественно записи.
8. Описание сценариев для тестирования
    1. Сценарий нормальной работы - реплики не отказывают, не перезагружаются
    2. Сценарий с последовательным отказом случайных реплик (так как в Raft есть лидер, а в Paxos - не совсем, то отказ только одной реплики не покажет интересные результаты - в Raft восстановление точно будет дольше).
    3. Сценарий, где отказывает сначала одна половина реплик, а потом вторая для тестирования репликации лога на убитые реплики.
9. Теоретический производительности протоколов (на основе необходимого количества Round trip при различных сценариях, а также количества сообщений в сети)
10. Запуск скриптов тестирования при всех сценариях.
11. Анализ результатов тестирования (пока неизвестно, какие будут результаты, вероянтно, что собственный вариант Paxos будет сначала работать медленно, и его придется оптимизировать).
12. Выявление критериев выбора протокола в зависимости от требований к производительности.
13. Заключение.
14. Ссылки